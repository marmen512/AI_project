# –ó–≤—ñ—Ç –ø—Ä–æ cleanup –ø—Ä–æ–µ–∫—Ç—É "2"

## ‚úÖ –í–ò–ö–û–ù–ê–ù–û

### 1. –î–æ–¥–∞–Ω–æ DEPRECATED –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ

#### –§–∞–π–ª–∏ —è–∫—ñ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è runtime.bootstrap:
- ‚úÖ `train/train.py` - –¥–æ–¥–∞–Ω–æ DEPRECATED –∫–æ–º–µ–Ω—Ç–∞—Ä (—Ñ—É–Ω–∫—Ü—ñ—è `train_with_auto_config()` –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è —Å—Ç–∞—Ä–∏–º –∫–æ–¥–æ–º)
- ‚úÖ `train/train_code_model.py` - –¥–æ–¥–∞–Ω–æ DEPRECATED –∫–æ–º–µ–Ω—Ç–∞—Ä
- ‚úÖ `train/train_trm_with_phi3.py` - –¥–æ–¥–∞–Ω–æ DEPRECATED –∫–æ–º–µ–Ω—Ç–∞—Ä
- ‚úÖ `config/training_defaults.sh` - –¥–æ–¥–∞–Ω–æ DEPRECATED –∫–æ–º–µ–Ω—Ç–∞—Ä

### 2. –°—Ç–≤–æ—Ä–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
- ‚úÖ `deprecated/README.md` - –æ–ø–∏—Å –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö —Ñ–∞–π–ª—ñ–≤

### 3. –ó–±–µ—Ä–µ–∂–µ–Ω–æ backwards compatibility
- ‚úÖ –í—Å—ñ —Ñ–∞–π–ª–∏ –∑–∞–ª–∏—à–µ–Ω—ñ –Ω–∞ –º—ñ—Å—Ü—ñ (–Ω–µ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è)
- ‚úÖ –°—Ç–∞—Ä–∏–π –∫–æ–¥ –ø—Ä–æ–¥–æ–≤–∂—É—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏
- ‚úÖ –ù–æ–≤—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –æ—Ç—Ä–∏–º—É—é—Ç—å –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è

---

## üìä –°–¢–ê–¢–£–° –§–ê–ô–õ–Ü–í

### ‚úÖ –ê–ö–¢–ò–í–ù–û –í–ò–ö–û–†–ò–°–¢–û–í–£–Æ–¢–¨–°–Ø (–Ω–µ —á—ñ–ø–∞—Ç–∏):

1. **Config:**
   - ‚úÖ `config/config.yaml` - –≥–æ–ª–æ–≤–Ω–∏–π config (—á–∏—Ç–∞—î—Ç—å—Å—è runtime.bootstrap)
   - ‚úÖ `config/trm_config.py` - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è fallback –≤ runtime.bootstrap

2. **Entry points:**
   - ‚úÖ `scripts/train_model.py` - —î–¥–∏–Ω–∏–π entry point (wrapper –¥–æ runtime.bootstrap)
   - ‚úÖ `runtime/bootstrap.py` - –≥–æ–ª–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞

3. **Shell —Å–∫—Ä–∏–ø—Ç–∏:**
   - ‚úÖ `auto_train.sh` - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î runtime.bootstrap
   - ‚úÖ `start_training.sh` - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î runtime.bootstrap
   - ‚úÖ `monitor.sh` - –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∏–π –¥–ª—è runtime.bootstrap
   - ‚úÖ `stop_training.sh` - –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∏–π –¥–ª—è runtime.bootstrap

### ‚ö†Ô∏è DEPRECATED (–∑–±–µ—Ä–µ–∂–µ–Ω—ñ –¥–ª—è backwards compatibility):

1. **Config:**
   - ‚ö†Ô∏è `config/training_resume.py` - DEPRECATED (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è runtime.resume)
   - ‚ö†Ô∏è `config/training_config.py` - AutoTrainingConfig DEPRECATED (TrainingConfig –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è)
   - ‚ö†Ô∏è `config/training_defaults.sh` - DEPRECATED –¥–ª—è runtime.bootstrap

2. **Entry points:**
   - ‚ö†Ô∏è `train/train.py` - DEPRECATED —è–∫ entry point (—Ñ—É–Ω–∫—Ü—ñ—è –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è)
   - ‚ö†Ô∏è `train/train_code_model.py` - DEPRECATED
   - ‚ö†Ô∏è `train/train_trm_with_phi3.py` - DEPRECATED

---

## üéØ –ü–û–¢–û–ß–ù–ê –ê–†–•–Ü–¢–ï–ö–¢–£–†–ê

### –ì–æ–ª–æ–≤–Ω–∏–π flow:
```
scripts/train_model.py 
  ‚Üí runtime.bootstrap.bootstrap()
    ‚Üí –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î config/config.yaml
    ‚Üí —Å—Ç–≤–æ—Ä—é—î –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —á–µ—Ä–µ–∑ factories/
    ‚Üí –∑–∞–ø—É—Å–∫–∞—î –Ω–∞–≤—á–∞–Ω–Ω—è
```

### Config:
- **–ì–æ–ª–æ–≤–Ω–∏–π:** `config/config.yaml`
- **Fallback:** `config/trm_config.py` (—è–∫—â–æ config.yaml –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ)

### Shell —Å–∫—Ä–∏–ø—Ç–∏:
- –í—Å—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å `runtime.bootstrap`
- –ú–æ–∂—É—Ç—å —á–∏—Ç–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑ `config/training_defaults.sh` (–¥–ª—è backwards compatibility)

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

### –©–æ –¥–æ—Å—è–≥–Ω—É—Ç–æ:
1. ‚úÖ –î–æ–¥–∞–Ω–æ DEPRECATED –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–æ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö —Ñ–∞–π–ª—ñ–≤
2. ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –ø—Ä–æ deprecated —Ñ–∞–π–ª–∏
3. ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–æ backwards compatibility (–≤—Å—ñ —Ñ–∞–π–ª–∏ –∑–∞–ª–∏—à–µ–Ω—ñ)
4. ‚úÖ –ù–æ–≤—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –æ—Ç—Ä–∏–º—É—é—Ç—å —á—ñ—Ç–∫—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### –©–æ –ù–ï –∑—Ä–æ–±–ª–µ–Ω–æ (—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ):
- ‚ùå –ù–µ –≤–∏–¥–∞–ª—è–ª–∏—Å—è —Ñ–∞–π–ª–∏ (backwards compatibility)
- ‚ùå –ù–µ –ø–µ—Ä–µ—Ä–æ–±–ª—è–ª–∏—Å—è shell —Å–∫—Ä–∏–ø—Ç–∏ (–≤–æ–Ω–∏ –ø—Ä–∞—Ü—é—é—Ç—å)
- ‚ùå –ù–µ —Ä–æ–±–∏–≤—Å—è –ø–æ–≤–Ω–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (–Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω)

---

## üìã –†–ï–ö–û–ú–ï–ù–î–ê–¶–Ü–á –î–õ–Ø –ö–û–†–ò–°–¢–£–í–ê–ß–Ü–í

### ‚úÖ –î–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–¥—É:
1. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `scripts/train_model.py` ‚Üí `runtime.bootstrap`
2. –í—Å—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –≤ `config/config.yaml`
3. –î–ª—è resume: `runtime.resume.find_latest_checkpoint()`

### ‚ö†Ô∏è –°—Ç–∞—Ä–∏–π –∫–æ–¥:
- –ü—Ä–æ–¥–æ–≤–∂—É—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏
- –û—Ç—Ä–∏–º—É—î DEPRECATED warnings
- –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –º—ñ–≥—Ä–∞—Ü—ñ—è –Ω–∞ runtime.bootstrap

---

## üéØ –í–ò–°–ù–û–í–û–ö

**–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π cleanup –≤–∏–∫–æ–Ω–∞–Ω–æ —É—Å–ø—ñ—à–Ω–æ:**
- ‚úÖ –î–æ–¥–∞–Ω–æ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ deprecated —Ñ–∞–π–ª–∏
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
- ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–æ backwards compatibility
- ‚úÖ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

**–ü—Ä–æ–µ–∫—Ç "2" –º–∞—î —á–∏—Å—Ç—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É —ñ –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –ø–æ–≤–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É!**

